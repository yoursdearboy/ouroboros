{
    "select": {
        "columns": [
            "patients.id",
            "patients.last_name",
            {
                "name": "diagnoses",
                "columns": [
                    {
                        "name": "1",
                        "columns": [
                            {
                                "name": "icd_code",
                                "element": "icd_code_1",
                                "table": null
                            }
                        ]
                    },
                    {
                        "name": "2",
                        "columns": [
                            {
                                "name": "icd_code",
                                "element": "icd_code_2",
                                "table": null
                            }
                        ]
                    }
                ]
            }
        ],
        "froms": [
            {
                "left": "patients",
                "right": {
                    "name": "diagnoses",
                    "pivot_by": "diagnoses.patient_id"
                },
                "on": "patients.id = diagnoses.patient_id"
            }
        ]
    }
}
